<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="La litière livrée chez vous.">
    <meta name="author" content="Kaka Litière">
    <meta name="keywords" content="kaka, kaka litière, kakalitiere, litière, litière domicile, litière livraison, kaka livraison, litière facile">
    <meta property="og:title" content="Kaka Litière - La litière livrée chez vous">
    <meta property="og:site_name" content="Kaka Litière">
    <meta property="og:type" content="website">
    <meta property="og:image" content=" <!-- Add image link here --> ">
    <meta property="og:description" content="Kaka Litière, c'est la litière livrée directement chez vous, sans effort.">
    <meta property="fb:admins" content="912496455461366">

    <title>Kaka Litière - La litière livrée chez vous</title>

    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="js/modal.js"></script>

    <!-- CSS -->
    <link href="css/modal.css" rel="stylesheet">
    <link href="css/form.css" rel="stylesheet">
    <link href="css/kaka.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
</head>
<body>
  <nav>
    <div class="container">
      <div class="nav-element left">
        <object type="image/svg+xml" data="assets/img/logo.svg" height="40px">Your browser does not support SVG</object>
      </div>
      <div class="nav-element right">
        <a href="#contact">Contact</a>
      </div>
    </div>
  </nav>
  <div class="main">
    <h1 class="center">La litière livrée chez vous.</h1>
    <div class="main-filter">
      <div class="container">
        <div>
          <h2>Litière Kaka</h2>
        </div>
        <div class="table">
          <div class="desc">
            100% minérale, en sac de 5kg. Chaque sac convient à 1 mois de litière.<br>
            Prix : 10 € / sac
          </div>
          <div class="select-qty">
            <form>
              <button class="button button-left" name="minus" id="qty-minus">-</button>
              <input type="text" name="value" id="qty-value" value="1">
              <button class="button button-right" name="plus" id="qty-plus">+</button>
              <button class="submit-main" data-toggle="modal" data-target="#myModal">Je commande</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="description-div">
    <div class="strip">
      <h2>On s'occupe de tout.</h2>
      <p>Nous livrons au lieu et à l’heure de votre choix, partout dans Paris et en banlieue. Finies les galères avec des sacs surchargés, faîtes-vous livrer directement et à moindre coût.</p>
    </div>
    <div class="strip">
      <h2>Un produit de qualité au prix le plus compétitif.</h2>
      <p>Notre litière est 100% minérale, sans additif, pour préserver la santé de vos chats chéris. Nous nous occupons nous-mêmes de la livraison pour vous garantir un prix des plus compétitifs, sans les embêtements habituels.</p>
    </div>
    <div class="strip">
      <h2>Comme commander une pizza.</h2>
      <p>Vous pouvez commander pour le jour-même, et le paiement s'effectue en espèces à la livraison. Comme pour une pizza, mais pour votre chat. :)</p>
    </div>
  </div>
  <div class="strip-black center" id="contact">
    <p>KAKA LITI&Egrave;RE, PARIS - 01 45 78 32 14</p>
    <p>LITIEREKAKA@GMAIL.COM</p>
    <p><a href="legal.html">MENTIONS L&Eacute;GALES</a></p>
    <a href="https://www.facebook.com/kakalitiere/" target="_blank">
      <img src="assets/img/facebook.svg" height="40px">
    </a>
  </div>
  <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-body">
          <h2>Où et quand souhaitez-vous être livré(e) ?</h2>
          <form id="checkout-form" class="form-modal center" action="https://docs.google.com/forms/d/1sGL92SNy3ZgXrrCC4_Frx5LohgCTin8ilPc6hA-R_iU/formResponse">
            <input type="text" class="form-control" id="full-name" name="full-name" placeholder="Nom complet" required>
            <input type="email" class="form-control" id="email" name="email" placeholder="Email" required>
            <input type="text" class="form-control" id="address" name="address" placeholder="Adresse (rue, numéro)" required>
            <input type="text" class="form-control" id="city" name="city" placeholder="Ville" required>
            <input type="text" class="form-control" id="code-building" name="code-building" placeholder="Code de l'immeuble">
            <input type="tel"  class="form-control" id="phone-number" name="telephone" placeholder="Téléphone" required>
            <input type="date"  class="form-control" id="delivery-date" name="delivery-date" placeholder="Date de livraison" required>
          ​
            <div class="schedule">
              <button class="btn select-hour" name="810">08h - 10h</button>
              <button class="btn select-hour" name="1012">10h - 12h</button><br>
              <button class="btn select-hour" name="1416">14h - 16h</button>
              <button class="btn select-hour" name="1618">16h - 18h</button>
            </div>

            <div class="modal-footer">
              <button type="button" id="cancel" class="btn-cancel">Annuler</button>
              <input type="submit" id="btn-confirm" value="Confirmer" data-toggle="modal" data-target="#myModal">
            </div>
            <div class="clear-both"></div>
          </form>
        </div>
      </div>
    </div>
  </div>
</body>

<!-- Gestion des interactions users sur la page -->
<script>
  $(".button").on("click", function (e) {
    e.preventDefault();
    var button = $(this);
    if (button.attr('id') == 'qty-minus') {
      var temp = $("#qty-value").val();
      if (temp > 1) {
        temp = parseFloat(temp) - 1;
      } else {
        temp = 1;
      }
      $("#qty-value").val(temp);
    } else if (button.attr('id') == "qty-plus") {
      var temp = parseFloat($("#qty-value").val()) + 1;
      $("#qty-value").val(temp);
    }
  });
  $(".submit-main").on("click", function (e) {
    e.preventDefault();
  });

  // Gestion des classes sur les horaires
  $(".schedule button").on('click', function() {
    // Ajout de la class btn-active sur le bouton cliqué et seulement celui-ci
    $(".select-hour").removeClass('btn-active');
    $(this).addClass('btn-active');
  });
</script>

<!-- Ajax request vers la Google Spreadsheet -->
<script data-cfasync="false" type="text/javascript">
jQuery( document ).ready(function( $ ) {
	// variable to hold request
	var request;
	// bind to the submit event of our form
  $(".select-hour").on("click", function (e) {
    e.preventDefault();
  });
	$("#checkout-form").submit(function(event){
		// abort any pending request
		if (request) {
			request.abort();
		}
		// setup some local variables
		var $form = $(this);
		// let's select and cache all the fields
		var $inputs = $form.find("input, select, button, textarea");
		// serialize the data in the form
		var serializedData = $form.serialize();
    // => full-name=Nicolas+Filzi&email=nfilzi.webservices%40gmail.com&address=4+place+Charles+Fillion&city=Paris&code-building=&telephone=0678380989&delivery-date=2015-11-08
    var hour = $('.btn-active').html();
    serializedData = serializedData + "&hour=" + hour;

		// let's disable the inputs for the duration of the ajax request
		// Note: we disable elements AFTER the form data has been serialized.
		// Disabled form elements will not be serialized.
		$inputs.prop("disabled", true);
		// fire off the request to /form.php
		request = $.ajax({
      url: "https://script.google.com/macros/s/AKfycbzbtKWG0bEV_CV6VaIeUlCX6sZKqEHDJ8bMcdJzvApU3WUdo8o/exec",  // clone
			type: "post",
			data: serializedData
		});
		// callback handler that will be called on success
		request.done(function (response, textStatus, jqXHR){
			// log a message to the console
      console.log(response, textStatus, jqXHR);
			$('#result').html('<a href="https://docs.google.com/spreadsheets/d/10tt64TiALYhPMqR2fh9JzkuhxW7oC0rXXPb_pmJ7HAY/edit?usp=sharing" target="_blank">Success - see Google Sheet</a>');
			console.log("Hooray, it worked!");
		});
		// callback handler that will be called on failure
		request.fail(function (jqXHR, textStatus, errorThrown){
			// log the error to the console
			console.error(
				"The following error occured: "+
				textStatus, errorThrown
			);
		});
		// callback handler that will be called regardless
		// if the request failed or succeeded
		request.always(function () {
			// reenable the inputs
			$inputs.prop("disabled", false);
		});
		// prevent default posting of form
		event.preventDefault();
    //$("#myModal").hide();
	});
});
</script>
</html>
